{
  "schema_version": "1.0",
  "plan_template_id": "Documents.Process@1.0.0",
  "intent_type": "Documents.Process",
  "plan_version": "planner-1.0",
  "description": "Process a document (extract text / structured fields) and produce a Document.Processed outcome.",
  "steps": [
    {
      "step_id": "s1",
      "kind": "operator",
      "name": "Documents.Process",
      "operator_name": "Documents.Process",
      "operator_version": "1.0.0",
      "effects": ["produce_outcome"],
      "policy_tags": ["documents", "pii_allowed"],
      "risk_level": "low",
      "cache_policy": "use_if_safe",
      "idempotency_template": "doc_process:{tenant_id}:{intent.inputs.document_id}:{intent.inputs.processing_profile}",
      "payload": {
        "document_id": { "from": "intent.inputs.document_id" },
        "processing_profile": { "from": "intent.inputs.processing_profile" }
      },
      "produces": ["outcome.document_processed"]
    }
  ]
}
